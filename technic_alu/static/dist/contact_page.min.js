function validate_form(e){return e&&e.name&&e.subject&&e.message&&e.phone_number&&e.email&&is_email(e.email)&&is_fr_phone_number(e.phone_number)}function is_email(e){return!(!e||"string"!=typeof e)&&e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)}function is_fr_phone_number(e){return!(!e||(e=e.replace(new RegExp(" ","g"),""),isNaN(e)||10!==e.length))}function get_base_url(){let e=window.location.href,n=window.location.pathname;return e.replace(n,"")}function get_cookie(e){var n=null;if(document.cookie&&""!==document.cookie)for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var r=$.trim(t[o]);if(r.substring(0,e.length+1)===e+"="){n=decodeURIComponent(r.substring(e.length+1));break}}return n}$(document).ready(function(){let e=Ractive({el:"#contact_form_container",template:"#contact_form",data:{form:{}},computed:{form_completed:function(){return validate_form(this.get("form"))}}});window.ractive_contact_form=e,e.on("send_message",()=>{console.log(e.get("form"));let n=get_cookie("csrftoken");$.ajaxSetup({beforeSend:function(e,t){e.setRequestHeader("X-CSRFToken",n)}}),$.ajax({url:get_base_url()+"/api/send_message/",method:"POST",data:JSON.stringify(e.get("form")),dataType:"json"}).done(e=>{e.data&&console.log(e.data)})}),e.observe("form.phone_number",function(n){if(n&&!isNaN(n)&&10===n.length){let o=[];for(var t=0;t<10;t+=2)o.push(n.substring(t,t+2));n=o.join(" "),e.set("form.phone_number",n)}})});